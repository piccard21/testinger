<?php

namespace Tests\Unit;

use App\Team;
use App\User;
use Tests\TestCase;
use Illuminate\Foundation\Testing\DatabaseMigrations;
use Illuminate\Foundation\Testing\DatabaseTransactions;

class TeamTest extends TestCase
{
  use DatabaseTransactions;
   /** @test */
   public function a_team_has_a_name()
   {
       $team = new Team(['name' => 'Acme']);
       $this->assertEquals('Acme', $team->name);
   }
   /** @test */
   public function a_team_can_add_members()
   {
       $team = factory(Team::class)->create();
       $user = factory(User::class)->create();
       $userTwo = factory(User::class)->create();
       $team->add($user);
       $team->add($userTwo);
       $this->assertEquals(2, $team->count());
   }
   /** @test */
   public function a_team_can_add_multiple_members_at_once()
   {
       $team = factory(Team::class)->create();
       $users = factory(User::class, 2)->create();
       $team->add($users);
       $this->assertEquals(2, $team->count());
   }
   /** @test */
   public function a_team_has_a_maximum_size()
   {
       $team = factory(Team::class)->create(['size' => 2]);
       $userOne = factory(User::class)->create();
       $userTwo = factory(User::class)->create();
       $team->add($userOne);
       $team->add($userTwo);
       $this->assertEquals(2, $team->count());
       $this->setExpectedException('Exception');
       $userThree = factory(User::class)->create();
       $team->add($userThree);
   }
   /** @test */
   public function a_team_can_remove_a_member()
   {
       // HOMEWORK
   }
   /** @test */
   public function a_team_can_remove_all_members_at_once()
   {
       // HOMEWORK
   }
}
